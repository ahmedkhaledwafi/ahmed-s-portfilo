import React, { useState, useRef, useEffect } from 'react';
import { Link } from 'react-router-dom';
import './Navbar.css';
import { TweenLite, Power3 } from 'gsap';


function Navbar() {
    const [click, setClick] = useState(false);

    const logo = useRef(null);
    const link = useRef([]);

    useEffect(() => {
        TweenLite.from(logo.current, {
            opacity: 0,
            duration: 2,
            y: -60,
            x: -60,
            ease: Power3
        })
        TweenLite.staggerFrom(link.current, 1, {
            opacity: 0,
            duration: 2,
            x: 60,
            ease: Power3,
            stagger: "0.5"
        })
    }, [])

    function handleClick() { setClick(!click); }
    function closeMobileMenu() { setClick(false); }

    return (
        <>
            <nav className="navbar">
                <div className="navbar-container">

                    <div className="logo-container">
                        <Link ref={logo} to="/" className="navbar-logo" onClick={closeMobileMenu} title="Home">

                            <svg width="350" height="156" viewBox="0 0 1104 156" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M200.547 114L237.766 42.9375C239.047 40.4062 241.406 38.7188 244.844 37.875C245.844 37.625 247.078 37.5 248.547 37.5C250.016 37.5 251.609 37.9219 253.328 38.7656C255.078 39.5781 256.453 40.875 257.453 42.6562L297.391 114H259.375L256.422 106.594H236.172L233.641 114H200.547ZM238.469 91.7344H253.609L246.438 71.4844L238.469 91.7344ZM332.266 61.9688C336.484 56.3438 342.875 53.5312 351.438 53.5312C353.875 53.5312 356.469 54.0938 359.219 55.2188C361.969 56.3438 364.359 57.9688 366.391 60.0938C370.766 64.625 372.953 70.625 372.953 78.0938V114H344.922V88.7344C344.922 83.7031 344.109 79.5781 342.484 76.3594C340.859 73.1094 338.953 71.4844 336.766 71.4844C333.766 71.4844 332.266 73.5312 332.266 77.625V114H304.422V35.1094H332.266V61.9688ZM446.031 63.7031C451.344 56.9219 458.094 53.5312 466.281 53.5312C468.531 53.5312 470.844 54 473.219 54.9375C475.625 55.875 477.719 57.2344 479.5 59.0156C483.375 62.8906 485.312 67.9688 485.312 74.25V114H458.125V83.9531C458.125 80.1094 457.516 77.0938 456.297 74.9062C455.078 72.6875 453.625 71.5781 451.938 71.5781C450.281 71.5469 449.188 72.625 448.656 74.8125C448.5 75.4375 448.422 76.1406 448.422 76.9219V114H421.844V83.9531C421.844 80.1094 421.172 77.0938 419.828 74.9062C418.516 72.6875 417.078 71.5781 415.516 71.5781C413.016 71.5781 411.766 73.5938 411.766 77.625V114H383.922V55.7344H399.297L406 64.8281C408.281 61.3906 411.531 58.6562 415.75 56.625C420 54.5625 424.328 53.5312 428.734 53.5312C434.453 53.5312 439.188 55.4688 442.938 59.3438C444.156 60.5938 445.188 62.0469 446.031 63.7031ZM534.344 72.4219C534.344 69.6719 533.062 68.2969 530.5 68.2969C527.562 68.5781 525.656 70.0938 524.781 72.8438C524.344 74.1562 524.031 75.6875 523.844 77.4375C523.688 79.1562 523.438 81 523.094 82.9688L533.359 80.6719L534.25 73.5L534.344 72.4219ZM528.016 93.75C528.016 93.75 527.156 93.75 525.438 93.75C524.625 93.75 523.844 93.7188 523.094 93.6562C523.094 97.375 525.078 99.4062 529.047 99.75C530.141 99.8438 531.203 99.8906 532.234 99.8906C534.891 99.8906 538.219 99.2812 542.219 98.0625C546.25 96.8438 549.859 94.8594 553.047 92.1094L555.953 106.688C548.984 112.719 538.453 115.734 524.359 115.734C516.266 115.734 509.312 113.375 503.5 108.656C497.188 103.5 494.031 96.3594 494.031 87.2344C494.031 80.3594 495.812 74.1875 499.375 68.7188C502.688 63.7188 507.172 59.9219 512.828 57.3281C518.484 54.7344 524.594 53.4375 531.156 53.4375C539.656 53.4375 546.078 55.2969 550.422 59.0156C554.797 62.7344 556.969 67.3281 556.938 72.7969C556.938 78.2656 554.328 83.125 549.109 87.375C543.891 91.625 536.859 93.75 528.016 93.75ZM598.375 53.625C602.094 53.625 605.922 54.2344 609.859 55.4531V35.1094H637.141V114H619.75L613.047 104.297C607.328 111.859 599.812 115.641 590.5 115.641C583.031 115.641 576.5 113.109 570.906 108.047C565.344 102.953 562.562 96.4375 562.562 88.5C562.562 80.5625 564.188 74.0312 567.438 68.9062C573.875 58.7188 584.188 53.625 598.375 53.625ZM609.859 73.4062C608.797 72.75 607.641 72.4219 606.391 72.4219C605.141 72.4219 603.938 72.6719 602.781 73.1719C600.406 74.2031 598.281 75.875 596.406 78.1875C595.406 79.3125 594.562 80.5156 593.875 81.7969C592.375 84.5469 591.625 87.2812 591.625 90C591.625 92.6875 592.453 94.5625 594.109 95.625C594.703 96 595.422 96.2031 596.266 96.2344C600.328 96.2344 604.859 94.1875 609.859 90.0938V73.4062ZM702.25 39.1406V62.1562L720.297 39.1406H750.719L726.531 70.6875L754.469 114H720.297L704.641 87.5156L702.906 90.5625V114H672.578V39.1406H702.25ZM792.016 61.9688C796.234 56.3438 802.625 53.5312 811.188 53.5312C813.625 53.5312 816.219 54.0938 818.969 55.2188C821.719 56.3438 824.109 57.9688 826.141 60.0938C830.516 64.625 832.703 70.625 832.703 78.0938V114H804.672V88.7344C804.672 83.7031 803.859 79.5781 802.234 76.3594C800.609 73.1094 798.703 71.4844 796.516 71.4844C793.516 71.4844 792.016 73.5312 792.016 77.625V114H764.172V35.1094H792.016V61.9688ZM850.141 108.844C847.641 106.5 845.641 103.562 844.141 100.031C842.672 96.4688 841.938 92.6406 841.938 88.5469C841.938 84.4531 842.344 80.9062 843.156 77.9062C844.781 71.9375 847.625 66.9219 851.688 62.8594C853.625 60.8594 855.781 59.1719 858.156 57.7969C863.031 54.9531 868.172 53.5312 873.578 53.5312C879.016 53.5312 883.781 55.3281 887.875 58.9219C889.188 60.0781 890.328 61.4062 891.297 62.9062L898 55.7344H913.375V114H898L891.297 104.297C886.172 111.859 878.406 115.656 868 115.688C865.125 115.719 862.047 115.156 858.766 114C855.516 112.875 852.641 111.156 850.141 108.844ZM888.109 73.4062C886.984 72.75 885.641 72.4219 884.078 72.4219C882.516 72.4219 880.859 72.9844 879.109 74.1094C877.391 75.2031 875.844 76.5938 874.469 78.2812C871.406 82.0625 869.875 85.9062 869.875 89.8125C869.875 92.5625 870.719 94.5 872.406 95.625C873.969 96.6562 876.344 96.5156 879.531 95.2031C882.75 93.8594 885.609 92.125 888.109 90V73.4062ZM951.25 114H924.672V35.1094H951.25V114ZM1000.75 72.4219C1000.75 69.6719 999.469 68.2969 996.906 68.2969C993.969 68.5781 992.062 70.0938 991.188 72.8438C990.75 74.1562 990.438 75.6875 990.25 77.4375C990.094 79.1562 989.844 81 989.5 82.9688L999.766 80.6719L1000.66 73.5L1000.75 72.4219ZM994.422 93.75C994.422 93.75 993.562 93.75 991.844 93.75C991.031 93.75 990.25 93.7188 989.5 93.6562C989.5 97.375 991.484 99.4062 995.453 99.75C996.547 99.8438 997.609 99.8906 998.641 99.8906C1001.3 99.8906 1004.62 99.2812 1008.62 98.0625C1012.66 96.8438 1016.27 94.8594 1019.45 92.1094L1022.36 106.688C1015.39 112.719 1004.86 115.734 990.766 115.734C982.672 115.734 975.719 113.375 969.906 108.656C963.594 103.5 960.438 96.3594 960.438 87.2344C960.438 80.3594 962.219 74.1875 965.781 68.7188C969.094 63.7188 973.578 59.9219 979.234 57.3281C984.891 54.7344 991 53.4375 997.562 53.4375C1006.06 53.4375 1012.48 55.2969 1016.83 59.0156C1021.2 62.7344 1023.38 67.3281 1023.34 72.7969C1023.34 78.2656 1020.73 83.125 1015.52 87.375C1010.3 91.625 1003.27 93.75 994.422 93.75ZM1064.78 53.625C1068.5 53.625 1072.33 54.2344 1076.27 55.4531V35.1094H1103.55V114H1086.16L1079.45 104.297C1073.73 111.859 1066.22 115.641 1056.91 115.641C1049.44 115.641 1042.91 113.109 1037.31 108.047C1031.75 102.953 1028.97 96.4375 1028.97 88.5C1028.97 80.5625 1030.59 74.0312 1033.84 68.9062C1040.28 58.7188 1050.59 53.625 1064.78 53.625ZM1076.27 73.4062C1075.2 72.75 1074.05 72.4219 1072.8 72.4219C1071.55 72.4219 1070.34 72.6719 1069.19 73.1719C1066.81 74.2031 1064.69 75.875 1062.81 78.1875C1061.81 79.3125 1060.97 80.5156 1060.28 81.7969C1058.78 84.5469 1058.03 87.2812 1058.03 90C1058.03 92.6875 1058.86 94.5625 1060.52 95.625C1061.11 96 1061.83 96.2031 1062.67 96.2344C1066.73 96.2344 1071.27 94.1875 1076.27 90.0938V73.4062Z" fill="black" />
                                <path opacity="0.9" d="M156 78C156 121.078 121.078 156 78 156C34.9218 156 0 121.078 0 78C0 34.9218 34.9218 0 78 0C121.078 0 156 34.9218 156 78Z" fill="#6495ED" />
                                <path d="M6.12793 100L33.2666 48.1836C34.2008 46.3379 35.9212 45.1074 38.4277 44.4922C39.1569 44.3099 40.057 44.2188 41.1279 44.2188C42.1989 44.2188 43.361 44.5264 44.6143 45.1416C45.8903 45.734 46.8929 46.6797 47.6221 47.9785L76.7432 100H49.0234L46.8701 94.5996H32.1045L30.2588 100H6.12793ZM33.7793 83.7646H44.8193L39.5898 68.999L33.7793 83.7646ZM103.574 45.415V62.1973L116.733 45.415H138.916L121.279 68.418L141.65 100H116.733L105.317 80.6885L104.053 82.9102V100H81.9385V45.415H103.574Z" fill="white" />
                            </svg>


                        </Link>
                    </div>

                    <div className="menu-icon" onClick={handleClick}>
                        <i className={click ? 'fas fa-times' : 'fas fa-bars'} />
                    </div>

                    <ul className={click ? 'nav-menu active' : 'nav-menu'}>
                        <li ref={element => { link.current[0] = element; }} className="nav-item">
                            <Link to="/" className='nav-links' onClick={closeMobileMenu}>
                                Home
                            </Link>
                        </li>
                        <li ref={element => { link.current[1] = element; }} className="nav-item">
                            <Link to='/about-me' className='nav-links' onClick={closeMobileMenu}>
                                About
                            </Link>
                        </li>
                        <li ref={element => { link.current[2] = element; }} className="nav-item">
                            <Link to="/contact-me" className='nav-links' onClick={closeMobileMenu}>
                                Contact
                            </Link>
                        </li>

                    </ul>


                    <div class='nav-social-icons'>
                        <a
                            rel='noopener noreferrer'
                            class='nav-social-icon-link facebook'
                            href='https://www.facebook.com/AhmedBedfy/'
                            target='_blank'
                            aria-label='Facebook'
                            title="facebook"
                        >
                            <i class='fab fa-facebook-f' />
                        </a>

                        <a
                            rel='noopener noreferrer'
                            class='nav-social-icon-link github'
                            href='https://github.com/ahmedkhaledwafi'
                            target='_blank'
                            aria-label='github'
                            title="github"
                        >
                            <i class="fab fa-github"></i>
                        </a>

                        <a
                            rel='noopener noreferrer'
                            class='nav-social-icon-link linkedin'
                            href='https://www.linkedin.com/in/ahmedelbedfy/'
                            target='_blank'
                            aria-label='LinkedIn'
                            title='LinkedIn'
                        >
                            <i class='fab fa-linkedin' />
                        </a>
                    </div>
                </div>


            </nav>
        </>
    )
}

export default Navbar;
